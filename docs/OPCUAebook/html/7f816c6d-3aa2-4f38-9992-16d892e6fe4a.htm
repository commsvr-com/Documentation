<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Built-in Types</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="7f816c6d-3aa2-4f38-9992-16d892e6fe4a" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">OPC Unified Architecture<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e34055b2-23e0-4f1a-9e00-52d75becaeec.htm" title="OPC Unified Architecture" tocid="roottoc">OPC Unified Architecture</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e34055b2-23e0-4f1a-9e00-52d75becaeec.htm" title="Welcome to the OPC Unified Architecture e-book" tocid="e34055b2-23e0-4f1a-9e00-52d75becaeec">Welcome to the OPC Unified Architecture e-book</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/90c70f9d-c1df-479e-8273-071b5960a5a4.htm" title="Mappings" tocid="90c70f9d-c1df-479e-8273-071b5960a5a4">Mappings</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/54d77249-bb3b-4e7b-b3ef-aa5f17826bd1.htm" title="OPC UA Binary" tocid="54d77249-bb3b-4e7b-b3ef-aa5f17826bd1">OPC UA Binary</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/7f816c6d-3aa2-4f38-9992-16d892e6fe4a.htm" title="Built-in Types" tocid="7f816c6d-3aa2-4f38-9992-16d892e6fe4a">Built-in Types</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/49ef478a-e512-4c04-9de3-f131be78dc67.htm" title="Enumerations" tocid="49ef478a-e512-4c04-9de3-f131be78dc67">Enumerations</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/efb24dab-cd14-4f59-a392-cd2b44e22f15.htm" title="Arrays" tocid="efb24dab-cd14-4f59-a392-cd2b44e22f15">Arrays</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2b0f3a41-e464-40af-9820-a440f2c501aa.htm" title="Structures" tocid="2b0f3a41-e464-40af-9820-a440f2c501aa">Structures</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/7c47e7df-e164-4aef-9420-6b53de0b54c5.htm" title="Messages" tocid="7c47e7df-e164-4aef-9420-6b53de0b54c5">Messages</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Built-in Types</h1></td></tr></table><span class="introStyle"><A href="http://www.commsvr.com" title="OPC Unified Architecture" target="_blank">Home</A></span> <div class="introduction"><p /><p>This topic contains the following sections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#Boolean">Boolean</a></li><li class="outlineSectionEntry"><a href="#Integer">Integer</a></li><li class="outlineSectionEntry"><a href="#FloatingPoint">Floating Point</a></li><li class="outlineSectionEntry"><a href="#String">String</a></li><li class="outlineSectionEntry"><a href="#DateTime">DateTime</a></li><li class="outlineSectionEntry"><a href="#Guid">Guid</a></li><li class="outlineSectionEntry"><a href="#ByteString">ByteString</a></li><li class="outlineSectionEntry"><a href="#XmlElement">XmlElement</a></li><li class="outlineSectionEntry"><a href="#NodeId">NodeId</a></li><li class="outlineSectionEntry"><a href="#ExpandedNodeId">ExpandedNodeId</a></li><li class="outlineSectionEntry"><a href="#StatusCode">StatusCode</a></li><li class="outlineSectionEntry"><a href="#DiagnosticInfo">DiagnosticInfo</a></li><li class="outlineSectionEntry"><a href="#QualifiedName">QualifiedName</a></li><li class="outlineSectionEntry"><a href="#LocalizedText">LocalizedText</a></li><li class="outlineSectionEntry"><a href="#ExtensionObject">ExtensionObject</a></li><li class="outlineSectionEntry"><a href="#Variant">Variant</a></li><li class="outlineSectionEntry"><a href="#DataValue">DataValue</a></li></ul></div><div class="collapsibleAreaRegion" id="Boolean"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Boolean</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
          A Boolean value shall be encoded as a single byte where a value of 0 (zero) is false and any non-zero value is true.
        </p><p>
          Encoders shall use the value of 1 to indicate a true value; however, decoders shall treat any non-zero value as true.
        </p></div><div class="collapsibleAreaRegion" id="Integer"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Integer</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
          All integer types shall be encoded as little endian values where the least significant byte appears first in the stream.
        </p><p>
          The Figure 1 illustrates how the value 1,000,000,000 (Hex: 3B9ACA00) should be encoded as a 32 bit integer in the stream.
        </p><div class="mediaCenter"><img alt="Encoding Integers in a Binary Stream" src="../media/EncodingIntegersinaBinaryStream.JPG" /><div class="caption"><span class="captionLead">Figure 1:
						</span>Encoding Integers in a Binary Stream</div></div></div><div class="collapsibleAreaRegion" id="FloatingPoint"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Floating Point</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
          All floating point values shall be encoded with the appropriate IEEE-754binary representation which has three basic components: the sign, the exponent, and the fraction. The bit ranges assigned to each component depend on the width of the type. Figure 2 lists the bit ranges for the supported floating point types.
        </p><div class="mediaCenter"><img alt="Supported Floating Point Types" src="../media/SupportedFloatingPointTypes.JPG" /><div class="caption"><span class="captionLead">Figure 2:
						</span>Encoding Integers in a Binary Stream</div></div><p>
          In addition, the order of bytes in the stream is significant. All floating point values shall be encoded with the least significant byte appearing first (i.e. little endian).
        </p><p>
          The Figure 3 illustrates how the value -6.5 (Hex: C0D00000) should be encoded as a Float.
        </p><div class="mediaCenter"><img alt="Encoding Floating Points in a Binary Stream" src="../media/EncodingFloatingPointsinaBinaryStream.JPG" /><div class="caption"><span class="captionLead">Figure 3:
						</span>Encoding Integers in a Binary Stream</div></div></div><div class="collapsibleAreaRegion" id="String"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />String</span></div><div id="ID3RBSection" class="collapsibleSection"><p>
          All String values are encoded as a sequence of UTF8characters without a null terminator and preceded by the length in bytes..
        </p><p>
          The length in bytes is encoded as Int32. A value of -1 is used to indicate a ‘null’ string.
        </p><p>
          Figure 4 illustrates how the multilingual string “水Boy” should be encoded in a byte stream.
        </p><div class="mediaCenter"><img alt="Encoding Strings in a Binary Stream" src="../media/EncodingStringsinaBinaryStream.JPG" /><div class="caption"><span class="captionLead">Figure 4:
						</span>Encoding Strings in a Binary Stream</div></div></div><div class="collapsibleAreaRegion" id="DateTime"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />DateTime</span></div><div id="ID4RBSection" class="collapsibleSection"><p>
          A DateTime value shall be encoded as a 64-bit signed integer (see <a href="#Integer">Integer</a> ) which represents the number of 100 nanosecond intervals since January 1, 1601 (UTC)..
        </p><p>
          Not all platforms will be able to represent the full range of dates and times that can be represented with this encoding. For example, the UNIX time_t structure only has a 1 second resolution and cannot represent dates prior to 1970. For this reason, a number of rules shall be applied when dealing with date/time values that exceed the dynamic range of a platform. These rules are:
        </p><ol><li><p>
              A date/time value is encoded as 0 if either:
            </p><ul><li><p>
                  The value equal to or earlier than 1601-01-01 12:00AM
                </p></li><li><p>
                  The value is the earliest date that can be represented with the platform’s encoding.
                </p></li></ul></li><li><p>
              A date/time is encoded as the maximum value for an Int64 if either:
            </p><ul><li><p>
                  The value is equal to or greater than 9999-01-01 11:59:59PM
                </p></li><li><p>
                  The value is the latest date that can be represented with the platform’s encoding
                </p></li></ul></li><li><p>
              A date/time is decoded as the earliest time that can be represented on the platform if either:
            </p><ul><li><p>
                  The encoded value is 0
                </p></li><li><p>
                  The encoded value represents a time earlier than the earliest time that can be represented with the platform’s encoding.
                </p></li></ul></li><li><p>
              A date/time is decoded as the latest time that can be represented on the platform if either:
            </p><ul><li><p>
                  The encoded value is the maximum value for an Int64
                </p></li><li><p>
                  The encoded value represents a time later than the latest time that can be represented with the platform’s encoding.
                </p></li></ul></li></ol><p>
          These rules imply that the earliest and latest times that can be represented on a given platform are invalid date/time values and should be treated that way by applications.
        </p><p>
          A decoder shall truncate the value if a decoder encounters a DateTime value with a resolution that is greater than the resolution supported on the platform.
        </p></div><div class="collapsibleAreaRegion" id="Guid"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Guid</span></div><div id="ID5RBSection" class="collapsibleSection"><p>
          A Guid is encoded a the structure shown in <a href="ed06838a-603f-4c9e-92e1-bf215ecf46e6.htm">section Overview topic GUID</a> . The fields are encode sequentially according to the data type for field.
        </p><p>
          Figure 5 illustrates how the Guid “72962B91-FA75-4ae6-8D28-B404DC7DAF63” should be encoded in a byte stream.
        </p><div class="mediaCenter"><img alt="Encoding Guids in a Binary Stream" src="../media/EncodingGuidsinaBinaryStream.JPG" /><div class="caption"><span class="captionLead">Figure 5:
						</span>Encoding Guids in a Binary Stream</div></div></div><div class="collapsibleAreaRegion" id="ByteString"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />ByteString</span></div><div id="ID6RBSection" class="collapsibleSection"><p>
          A ByteString is encoded as sequence of bytes preceded by its length in bytes. The length is encoded as a 32-bit signed integer as described above.
        </p><p>
          If the length of the byte string is -1 then the byte string is ‘null’.
        </p></div><div class="collapsibleAreaRegion" id="XmlElement"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID7RB')" onkeypress="SectionExpandCollapse_CheckKey('ID7RB', event)" tabindex="0"><img id="ID7RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />XmlElement</span></div><div id="ID7RBSection" class="collapsibleSection"><p>
          An XmlElement is an XML fragment serialized as UTF-8 string and then encoded as ByteString
        </p><p>
          Figure 6 illustrates how the XmlElement  “Hot水” should be encoded in a byte stream.
        </p><div class="mediaCenter"><img alt="Encoding XmlElements in a Binary Stream" src="../media/EncodingXmlElementsinaBinaryStream.JPG" /><div class="caption"><span class="captionLead">Figure 6:
						</span>Encoding XmlElements in a Binary Stream</div></div></div><div class="collapsibleAreaRegion" id="NodeId"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID8RB')" onkeypress="SectionExpandCollapse_CheckKey('ID8RB', event)" tabindex="0"><img id="ID8RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />NodeId</span></div><div id="ID8RBSection" class="collapsibleSection"><p>
          The components of a NodeId are described the Figure 7.
        </p><div class="mediaCenter"><img alt="NodeId Components" src="../media/NodeIdComponents.JPG" /><div class="caption"><span class="captionLead">Figure 7:
						</span>NodeId Components</div></div><p>
          The encoding of a NodeId varies according to the contents of the instance. For that reason the first byte of the encoded form indicates the format of the rest of the encoded NodeId. The possible encoding formats are shown on Figure 8. The tables that follow describe the structure of the each possible format (they exclude the byte which indicates the format).
        </p><div class="mediaCenter"><img alt="NodeId Encoding Values" src="../media/NodeIdEncodingValues.JPG" /><div class="caption"><span class="captionLead">Figure 8:
						</span>NodeId Encoding Values</div></div><p>
          The standard NodeId encoding has the structure shown on Figure 9. The standard encoding is used for all formats that do not have an explicit format defined.
        </p><div class="mediaCenter"><img alt="Standard NodeId Binary Encoding" src="../media/StandardNodeIdBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 9:
						</span>Standard NodeId Binary Encoding</div></div><p>
          An example of a String NodeId with Namespace = 1 and Identifier = “Hot水” is shown in Figure 10.
        </p><div class="mediaCenter"><img alt="A String NodeId" src="../media/StringNodeId.JPG" /><div class="caption"><span class="captionLead">Figure 10:
						</span>A String NodeId</div></div><p>
          The Two Byte NodeId encoding has the structure shown on Figure 11.
        </p><div class="mediaCenter"><img alt="Two Byte NodeId Binary Encoding" src="../media/TwoByteNodeIdBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 11:
						</span>Two Byte NodeId Binary Encoding</div></div><p>
          An example of a Two Byte NodeId with Identifier = 72 is shown in Figure 12.
        </p><div class="mediaCenter"><img alt="A Two Byte NodeId" src="../media/ATwoByteNodeId.JPG" /><div class="caption"><span class="captionLead">Figure 12:
						</span>A Two Byte NodeId</div></div><p>
          The Four Byte NodeId encoding has the structure shown in Figure 13.
        </p><div class="mediaCenter"><img alt="Four Byte NodeId Binary Encoding" src="../media/FourByteNodeIdBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 13:
						</span>Four Byte NodeId Binary Encoding</div></div><p>
          An example of a Four Byte NodeId with Namespace = 5 and Identifier = 1025 is shown in Figure 14.
        </p><div class="mediaCenter"><img alt="A Four Byte NodeId" src="../media/AFourByteNodeId.JPG" /><div class="caption"><span class="captionLead">Figure 14:
						</span>A Four Byte NodeId</div></div></div><div class="collapsibleAreaRegion" id="ExpandedNodeId"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID9RB')" onkeypress="SectionExpandCollapse_CheckKey('ID9RB', event)" tabindex="0"><img id="ID9RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />ExpandedNodeId</span></div><div id="ID9RBSection" class="collapsibleSection"><p>
          An ExpandedNodeId extends the NodeId structure by allowing the NamespaceUri to be explicitly specified instead of using the NamespaceIndex. The NamespaceUri is optional. If it is specified then the NamespaceIndex inside the NodeId shall be ignored.
        </p><p>
          The ExpandedNodeId is encoded by first encoding a NodeId as described in <a href="#NodeId">NodeId</a> and then encoding NamespaceUri as a String.
        </p><p>
          An instance of an ExpandedNodeId may still use the NamespaceIndex instead of the NamespaceUri. In this case, the NamespaceUri is not encoded in the stream. The presence of the NamespaceUri in the stream is indicated by setting the NamespaceUri flag in the encoding format byte for the NodeId.
        </p><p>
          If the NamespaceUri is present then the encoder shall encode the NamespaceIndex as 0 in the stream when the NodeId portion is encoded. The unused NamespaceIndex is included in the stream for consistency,
        </p><p>
          An ExpandedNodeId may also have a ServerIndex which is encoded as a <a href="e6dbd978-9b2f-475e-bcb3-304975700033.htm">UInt32</a> after the NamespaceUri. The ServerIndex flag in the NodeId encoding byte indicates whether the ServerIndex is present in the stream. The ServerIndex is omitted if it is equal to zero.
        </p><p>
          The ExpandedNodeId encoding has the structure shown in Figure 15.
        </p><div class="mediaCenter"><img alt="ExpandedNodeId Binary Encoding" src="../media/ExpandedNodeIdBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 15:
						</span>ExpandedNodeId Binary Encoding</div></div></div><div class="collapsibleAreaRegion" id="StatusCode"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID10RB')" onkeypress="SectionExpandCollapse_CheckKey('ID10RB', event)" tabindex="0"><img id="ID10RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />StatusCode</span></div><div id="ID10RBSection" class="collapsibleSection"><p>
          A StatusCode is encoded as a <a href="e6dbd978-9b2f-475e-bcb3-304975700033.htm">UInt32</a></p></div><div class="collapsibleAreaRegion" id="DiagnosticInfo"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID11RB')" onkeypress="SectionExpandCollapse_CheckKey('ID11RB', event)" tabindex="0"><img id="ID11RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />DiagnosticInfo</span></div><div id="ID11RBSection" class="collapsibleSection"><p>
          A DiagnosticInfo structure is described in <a href="ef0092b5-9f31-4e8d-9901-270be06e6577.htm">Services</a>. It specifies a number of fields that could be missing. For that reason, the encoding uses a bit mask to indicate which fields are actually present in the encoded form.
        </p><p>
          As described in <a href="ef0092b5-9f31-4e8d-9901-270be06e6577.htm">Services</a>, the SymbolicId, NamespaceUri, LocalizedText and Locale fields are indexes in a string table which is returned in the response header. Only the index of the string in this table is encoded. An index of -1 indicates that there is no value for the string.
        </p><div class="mediaCenter"><img alt="DiagnosticInfo Binary Encoding" src="../media/DiagnosticInfoBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 16:
						</span>DiagnosticInfo Binary Encoding</div></div></div><div class="collapsibleAreaRegion" id="QualifiedName"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID12RB')" onkeypress="SectionExpandCollapse_CheckKey('ID12RB', event)" tabindex="0"><img id="ID12RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />QualifiedName</span></div><div id="ID12RBSection" class="collapsibleSection"><p>
          A QualifiedName structure is encoded as shown in Figure 17.
        </p><p>
          The abstract QualifiedName structure is defined in <a href="546f49d5-8153-434c-9e74-d7835d7862bc.htm#LocaleId">Standard Data Types</a> .
        </p><div class="mediaCenter"><img alt="QualifiedName Binary Encoding" src="../media/QualifiedNameBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 17:
						</span>QualifiedName Binary Encoding</div></div></div><div class="collapsibleAreaRegion" id="LocalizedText"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID13RB')" onkeypress="SectionExpandCollapse_CheckKey('ID13RB', event)" tabindex="0"><img id="ID13RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />LocalizedText</span></div><div id="ID13RBSection" class="collapsibleSection"><p>
          A LocalizedText structure contains two fields that could be missing. For that reason, the encoding uses a bit mask to indicate which fields are actually present in the encoded form.
        </p><p>
          The abstract LocalizedText structure is defined in <a href="546f49d5-8153-434c-9e74-d7835d7862bc.htm#LocalizedText">Standard Data Types</a>.
        </p><div class="mediaCenter"><img alt="LocalizedText Binary Encoding" src="../media/LocalizedTextBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 18:
						</span>LocalizedText Binary Encoding</div></div></div><div class="collapsibleAreaRegion" id="ExtensionObject"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID14RB')" onkeypress="SectionExpandCollapse_CheckKey('ID14RB', event)" tabindex="0"><img id="ID14RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />ExtensionObject</span></div><div id="ID14RBSection" class="collapsibleSection"><p>
          An ExtensionObject is encoded as sequence of bytes prefixed by the NodeId of its DataTypeEncoding and the number of bytes encoded.
        </p><p>
          An ExtensionObject may be encoded by the application which means it is passed as a ByteString or an XmlElement  to the encoder. In this case, the encoder will be able to write the number of bytes in the object before it encodes the bytes. However, an ExtensionObject may know how to encode/decode itself which means the encoder shall calculate the number of bytes before it encodes the object or it shall be able seek backwards in the stream and update the length after encoding the body
        </p><p>
          When a decoder encounters an ExtensionObject it shall check if it recognizes the DataTypeEncoding identifier. If it does then it can call the appropriate function to decode the object body. If the decoder does not recognize the type it shall use the EncodingMask to determine if the body is a ByteString or an XmlElement and then decode the object body.
        </p><p>
          The serialized form of a ExtensionObject is shown in Figure 19.
        </p><div class="mediaCenter"><img alt="Extension Object Binary Encoding" src="../media/ExtensionObjectBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 19:
						</span>Extension Object Binary Encoding</div></div><p>
          ExtensionObjects are used in two contexts: as values contained in Variant structures or as parameters in OPC UA messages.
        </p></div><div class="collapsibleAreaRegion" id="Variant"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID15RB')" onkeypress="SectionExpandCollapse_CheckKey('ID15RB', event)" tabindex="0"><img id="ID15RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Variant</span></div><div id="ID15RBSection" class="collapsibleSection"><p>
          An Variant is a union of the built-in types.
        </p><p>
          The structure of an Variant is shown in Figure 20
        </p><div class="mediaCenter"><img alt="Variant Binary Encoding" src="../media/VariantBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 20:
						</span>Variant Binary Encoding</div></div><p>
          The possible types and their identifiers that can be encoded in an Variant are shown in <a href="e6dbd978-9b2f-475e-bcb3-304975700033.htm">Built-in Types</a></p></div><div class="collapsibleAreaRegion" id="DataValue"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID16RB')" onkeypress="SectionExpandCollapse_CheckKey('ID16RB', event)" tabindex="0"><img id="ID16RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />DataValue</span></div><div id="ID16RBSection" class="collapsibleSection"><p>
          A DataValue is always preceded by a mask that indicates which fields are present in the stream.
        </p><p>
          The fields of a DataValue are described in Figure 21.
        </p><div class="mediaCenter"><img alt="Data Value Binary Encoding" src="../media/DataValueBinaryEncoding.JPG" /><div class="caption"><span class="captionLead">Figure 21:
						</span>Data Value Binary Encoding</div></div><p>
          The Picoseconds fields store the difference between a high resolution timestamp with a resolution of 10ps and the Timestamp field value which only has a 100ns resolution. The Picoseconds fields shall contain values less than 10000. The decoder shall treat values greater than or equal to 10000 as the value ‘9999’.
        </p></div></div></div><div id="pageFooter" class="pageFooter"><p><a href="http://www.commsvr.com/" target="_blank">Copyright (c) 2020 Mariusz Postol</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:techsupp%40cas.eu?Subject=OPC%20Unified%20Architecture">CAS</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>