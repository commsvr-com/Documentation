<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Design decisions when modelling the server information</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="9c0bb318-1a77-4f74-aabc-1c3eb7cfdfc9" /><meta name="Description" content="This section describes the design decisions of modelling the information provided by each OPC Unified Architecture server, exposing its capabilities, diagnostic information, and other data needed to work with the server, such as the NamespaceArray." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">OPC Unified Architecture - specification applicable to manufacturing software in application areas such as Field Devices, Control Systems, Manufacturing Execution Systems and Enterprise Resource Planning Systems.<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e34055b2-23e0-4f1a-9e00-52d75becaeec.htm" title="OPC Unified Architecture - specification applicable to manufacturing software in application areas such as Field Devices, Control Systems, Manufacturing Execution Systems and Enterprise Resource Planning Systems." tocid="roottoc">OPC Unified Architecture - specification applicable to manufacturing software in application areas such as Field Devices, Control Systems, Manufacturing Execution Systems and Enterprise Resource Planning Systems.</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e34055b2-23e0-4f1a-9e00-52d75becaeec.htm" title="Welcome to the OPC Unified Architecture e-book" tocid="e34055b2-23e0-4f1a-9e00-52d75becaeec">Welcome to the OPC Unified Architecture e-book</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/3f999f23-4ad7-46a4-80dd-ab33729d5f49.htm" title="Information Model" tocid="3f999f23-4ad7-46a4-80dd-ab33729d5f49">Information Model</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c7bb7b37-624e-4a57-a5f3-d7e5994b1fae.htm" title="Introduction" tocid="c7bb7b37-624e-4a57-a5f3-d7e5994b1fae">Introduction</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/0d741b40-7d47-4aa1-852b-fe9007394b7f.htm" title="Standard Object Types" tocid="0d741b40-7d47-4aa1-852b-fe9007394b7f">Standard Object Types</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d43f206c-8b58-4ded-b9c8-74eaac63cb36.htm" title="Standard Variable Types" tocid="d43f206c-8b58-4ded-b9c8-74eaac63cb36">Standard Variable Types</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/792493fe-9605-478d-b93a-10844c737983.htm" title="Standard Objects and their Variables" tocid="792493fe-9605-478d-b93a-10844c737983">Standard Objects and their Variables</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2b3534cf-4d77-4d4c-afd5-ab90c0157a66.htm" title="Standard Data Types" tocid="2b3534cf-4d77-4d4c-afd5-ab90c0157a66">Standard Data Types</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/9c0bb318-1a77-4f74-aabc-1c3eb7cfdfc9.htm" title="Design decisions when modelling the server information" tocid="9c0bb318-1a77-4f74-aabc-1c3eb7cfdfc9">Design decisions when modelling the server information</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/022e0eb8-59d2-4c81-a7d7-3646494f55a2.htm" title="StateMachines" tocid="022e0eb8-59d2-4c81-a7d7-3646494f55a2">StateMachines</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Design decisions when modelling the server information</h1></td></tr></table><span class="introStyle"><A href="http://www.commsvr.com" title="OPC Unified Architecture" target="_blank">Home</A></span> <div class="introduction"><p>This topic contains the following sections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#ServerType_and_Server_Object">ServerType and Server Object</a></li><li class="outlineSectionEntry"><a href="#Typed_complex_Objects">Typed complex Objects beneath the Server Object</a></li><li class="outlineSectionEntry"><a href="#Properties_vs_Data_Variables">Properties vs. Data Variables</a></li><li class="outlineSectionEntry"><a href="#Complex_Variables_using_complex_DataTypes">Complex Variables using complex DataTypes</a></li><li class="outlineSectionEntry"><a href="#Complex_Variables_having_an_array">Complex Variables having an array</a></li><li class="outlineSectionEntry"><a href="#Redundant_information">Redundant information</a></li><li class="outlineSectionEntry"><a href="#Usage_of_the_BaseDataVariableType">Usage of the BaseDataVariableType</a></li><li class="outlineSectionEntry"><a href="#Subtyping">Subtyping</a></li><li class="outlineSectionEntry"><a href="#Extensibility_mechanism">Extensibility mechanism</a></li></ul><p>
      This section describes the design decisions of modelling the information provided by each OPC Unified Architecture server, exposing its capabilities, diagnostic information, and other data needed to work with the server, such as the <a href="6f98c5eb-4449-4a75-aa31-39296b4c5d97.htm#NamespaceArray">NamespaceArray</a>.
    </p><p>
      This section gives an example of what should be considered when modelling data using the Address Space Model. General considerations for using the Address Space Model can be found in  section <a href="58e663ae-9e77-4a9b-9adc-cbc18c4d7e9e.htm">Address Space</a>.
    </p><p>
      This section is informative, that is each server vendor can model its data in the appropriate way that fits its needs.
    </p><p>
      The following subclauses describe the design decisions made while modelling the Server Object. General DataTypes, VariableTypes and ObjectTypes such as the EventTypes described in this Part are not taken into account.
    </p></div><div class="collapsibleAreaRegion" id="ServerType_and_Server_Object"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />ServerType and Server Object</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
        The first decision is to decide at what level types are needed. Typically, each server will provide one Server Object with a well known <a href="546f49d5-8153-434c-9e74-d7835d7862bc.htm#NodeId">NodeId</a>. The NodeIds of the containing Nodes are also well-known because their symbolic name is specified in this part and the <a href="546f49d5-8153-434c-9e74-d7835d7862bc.htm#NodeId">NodeId</a> is based on the symbolic name in section <a href="90c70f9d-c1df-479e-8273-071b5960a5a4.htm">Mappings</a>. Nevertheless, aggregating servers may want to expose the Server Objects of the OPC Unified Architecture servers they are aggregating in their Address Space. Therefore, it is very helpful to have a type definition for the Server Object. The Server Object is an Object, because it groups a set of Variables and Objects containing information about the server. The <a href="6f98c5eb-4449-4a75-aa31-39296b4c5d97.htm#ServerType">ServerType</a> is a complex <a href="9d541e15-812b-4dce-9b4c-7b0d66e74daf.htm">ObjectType</a>, because the basic structure of the Server Object should be well-defined. However, the Server Object can be extended by adding Variables and Objects in an appropriate structure of the Server Object or its containing Objects.
      </p></div><div class="collapsibleAreaRegion" id="Typed_complex_Objects"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Typed complex Objects beneath the Server Object</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
        Objects beneath the Server Object used to group information, such as server capabilities or diagnostics, are also typed because an aggregating server may want to provide only part of the server information, such as diagnostics information, in its Address Space. Clients are able to program against these structures if they are typed, because they have its type definition.
      </p></div><div class="collapsibleAreaRegion" id="Properties_vs_Data_Variables"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties vs. Data Variables</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
        Since the general description in section <a href="58e663ae-9e77-4a9b-9adc-cbc18c4d7e9e.htm">Address Space</a> about the semantic difference between Properties and <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> are not applicable for the information provided about the server the rules described in section <a href="58e663ae-9e77-4a9b-9adc-cbc18c4d7e9e.htm">Address Space</a> are used.
      </p><p>
        If simple data structures should be provided, Properties are used. Examples of Properties are the <a href="6f98c5eb-4449-4a75-aa31-39296b4c5d97.htm#NamespaceArray">NamespaceArray</a> of the Server Object and the MinSupportedSampleRate of the ServerCapabilities Object.
      </p><p>
        If complex data structures are used, <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> are used. Examples of <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> are the ServerStatus of the Server Object and the ServerDiagnosticsSummary of the ServerDiagnostics Object.
      </p></div><div class="collapsibleAreaRegion" id="Complex_Variables_using_complex_DataTypes"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Complex Variables using complex DataTypes</span></div><div id="ID3RBSection" class="collapsibleSection"><p><a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> providing complex data structures expose their information as complex DataTypes, as well as components in the Address Space. This allows access to simple values as well as access to the whole information at once in a transactional context.
      </p><p>
        For example, the ServerStatus <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm">Variable</a> of the Server Object is modelled as a complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">DataVariable</a> having the <a href="2b3534cf-4d77-4d4c-afd5-ab90c0157a66.htm#ServerStatusDataType">ServerStatusDataType</a> providing all information about the server status. But it also exposes the CurrentTime as a simple <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">DataVariable</a>, because a client may want to read only the current time of the server, and is not interested in the build information, etc.
      </p></div><div class="collapsibleAreaRegion" id="Complex_Variables_having_an_array"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Complex Variables having an array</span></div><div id="ID4RBSection" class="collapsibleSection"><p>
        A special case of providing complex data structures is an array of complex data structures. The <a href="d43f206c-8b58-4ded-b9c8-74eaac63cb36.htm#SubscriptionDiagnosticsArrayType">SubscriptionDiagnosticsArrayType</a> is an example of how this is modelled. It is an array of a complex data structure, providing information of a subscription. Because a server typically has several subscriptions, it is an array. Some clients may want to read the diagnostic information about all subscriptions at once; therefore it is modelled as an array in a <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm">Variable</a>. On the other hand, a client may be interested in only a single entry of the complex structure, such as the PublishRequestCount. Therefore, each entry of the array is also exposed individually as a complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">DataVariable</a>, having each entry exposed as simple data.
      </p><div class="alert"><table><tr><th><img src="../icons/AlertNote.png" alt="Note" /> Note</th></tr><tr><td><p>
          Note that it is never necessary to expose the individual entries of an array to access them separately. The Services already allow accessing individual entries of an array of a <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm">Variable</a>. However, if the entries should also be used for other purposes in the Address Space – such as having References or additional Properties or exposing their complex structure using <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> – it is useful to expose them individually.
        </p></td></tr></table></div></div><div class="collapsibleAreaRegion" id="Redundant_information"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Redundant information</span></div><div id="ID5RBSection" class="collapsibleSection"><p>
        Providing redundant information should generally be avoided. But to fulfil the needs of different clients, it may be helpful.
      </p><p>
        Using complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> automatically leads to providing redundant information, because the information is directly provided in the complex DataType of the Value Attribute of the complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm">Variable</a>, and also exposed individually in the components of the complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm">Variable</a>.
      </p><p>
        The diagnostics information about subscriptions is provided in two different locations. One location is the SubscriptionDiagnosticsArray of the ServerDiagnostics Object, providing the information for all subscriptions of the server. The second location is the SubscriptionDiagnosticsArray of each individual SessionDiagnosticsObject Object, providing only the subscriptions of the session. This is useful because some clients may be interested in only the subscriptions grouped by sessions, whereas other clients may want to access the diagnostics information of all sessions at once.
      </p><p>
        The SessionDiagnosticsArray and the SessionSecurityDiagnosticsArray of the SessionsDiagnosticsSummary Object do not expose their individual entries, although they represent an array of complex data structures. But the information of the entries can also be accessed individually as components of the SessionDiagnostics Objects provided for each session by the SessionsDiagnosticsSummary Object. A client can either access the arrays (or parts of the arrays) directly or browse to the SessionDiagnostics Objects to get the information of the individual entries. Thus, the information provided is redundant, but the Variables containing the arrays do not expose their individual entries.
      </p></div><div class="collapsibleAreaRegion" id="Usage_of_the_BaseDataVariableType"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Usage of the BaseDataVariableType</span></div><div id="ID6RBSection" class="collapsibleSection"><p>
        All <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> used to expose complex data structures of complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> have the BaseDataVariableType as type definition if they are not complex by themselves. The reason for this approach is that the complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> already define the semantic of the containing <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">data variables</a> and this semantic is not used in another context. It is not expected that they are subtyped, because they should reflect the data structure of the <a href="07e07cd6-0589-48e7-89c3-e99176e1cb23.htm">DataType</a> of the complex <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm#DataVariable">DataVariable</a>.
      </p></div><div class="collapsibleAreaRegion" id="Subtyping"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID7RB')" onkeypress="SectionExpandCollapse_CheckKey('ID7RB', event)" tabindex="0"><img id="ID7RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Subtyping</span></div><div id="ID7RBSection" class="collapsibleSection"><p>
        Subtyping is used for modelling information about the redundancy support of the server. Because the provided information shall differ depending on the supported redundancy of the server, subtypes of the <a href="6f98c5eb-4449-4a75-aa31-39296b4c5d97.htm#ServerRedundancyType">ServerRedundancyType</a> will be used for this purpose.
      </p><p>
        Subtyping is also used as an extensibility mechanism (see next Clause).
      </p></div><div class="collapsibleAreaRegion" id="Extensibility_mechanism"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID8RB')" onkeypress="SectionExpandCollapse_CheckKey('ID8RB', event)" tabindex="0"><img id="ID8RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Extensibility mechanism</span></div><div id="ID8RBSection" class="collapsibleSection"><p>
        Do not subtype DataTypes to provide additional information about the server. Clients might not be able to read those new defined DataTypes and are not able to get the information – including the basic information. If information is added by several sources, the <a href="07e07cd6-0589-48e7-89c3-e99176e1cb23.htm">DataType</a> hierarchy may be difficult to maintain. Note that this rule applies to the information about the server; in other scenarios this may be a useful way to add information.
      </p><p>
        Add Objects containing Variables or add Variables to the Objects defined in this part. If, for example, additional diagnostic information per subscription is needed, add a new <a href="5ed97e29-a505-4050-af5d-8b2c8d80a045.htm">Variable</a> containing in array with an entry per subscription in the same places that the SubscriptionDiagnosticsArray is used.
      </p><p>
        Use subtypes of the ServerVendorCapabilityType to add information about the server-specific capabilities on the ServerCapabilities Objects. Because this extensibility point is already defined in this part, clients will look there for additional information.
      </p><p>
        Use a subtype of the VendorServerInfoType to add server-specific information. Because an Object of this type is already defined in this part, clients will look there for server-specific information.
      </p></div></div></div><div id="pageFooter" class="pageFooter"><p><a href="http://www.commsvr.com/" target="_blank">Copyright (c) 2020 Mariusz Postol</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:techsupp%40cas.eu?Subject=OPC%20Unified%20Architecture%20-%20specification%20applicable%20to%20manufacturing%20software%20in%20application%20areas%20such%20as%20Field%20Devices,%20Control%20Systems,%20Manufacturing%20Execution%20Systems%20and%20Enterprise%20Resource%20Planning%20Systems.">CAS</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>